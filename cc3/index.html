<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>codechef-选做-3 | shallwe|code</title>
  <meta name="author" content="shallwe">
  
  <meta name="description" content="OI-blog">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="codechef-选做-3"/>
  <meta property="og:site_name" content="shallwe|code"/>

  
    <meta property="og:image" content="undefined"/>
  

  
    <link rel="alternative" href="/atom.xml" title="shallwe|code" type="application/atom+xml">
  
  
    <link href="/favicon.ico" rel="icon">
  

  <!-- CSS -->
  <link rel="stylesheet" href="/css/themes/bootstrap.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML'></script>
  <!-- analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-97384825-1', 'auto');
  ga('send', 'pageview');
</script>



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?26e751f78e8841e981f7e01910d5fbf6";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
       <a class="navbar-brand" href="/">shallwe|code</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>归档页
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class="fa fa-folder"></i>分类页
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>标签页
			</a>
		  </li>
		  
		  <li>
			<a href="/friend" title="All the friends.">
			  <i class="fa fa-link"></i>小伙伴
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>博主是个蒟蒻
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header page-header-inverse ">		
			<h1 class="title title-inverse "> codechef-选做-3</h1>
		</div>		
	






<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <blockquote>
<p>仍然在做CC中简单一点的题目</p>
</blockquote>
<a id="more"></a>
<h1 id="cc-gerald07chef-and-graph-queries">【CC GERALD07】Chef and Graph Queries</h1>
<h2 id="题目大意">题目大意</h2>
<p>保留区间<span class="math inline">\([l,r]\)</span>的边，问图的联通块个数。</p>
<h2 id="解题报告">解题报告</h2>
<p>这个题目是一个动态树裸题，结合扫描线+离线。</p>
<p>使用LCT维护一个最大时间生成树，如果当前边相连的两个点是不连通的，那么直接加入当前边， 否则每次查询一条路径的最早加入的边， 删除后再加入当前边。</p>
<p>用一个树状数组维护单点修改区间和，边加入删除的时候在树状数组上也加入删除。</p>
<p>然后联通块数=点数-边数；</p>
<h2 id="代码">代码</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"> </div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"> </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i,a,b) for(int i=int(a),nn=int(b);i&lt;=nn;++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> VEP(i,a,b) for(int i=int(a),nn=int(b);i&gt;=nn;--i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i,b) for(int i=0,nn=int(b);i&lt;nn;++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"> </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; pii; </div><div class="line"> </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">200010</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF=<span class="number">1000000000</span>;</div><div class="line"> </div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">query</span> &#123;</span> </div><div class="line">	<span class="keyword">int</span> l,r,id; query(<span class="keyword">int</span> l=<span class="number">0</span>,<span class="keyword">int</span> r=<span class="number">0</span>,<span class="keyword">int</span> id=<span class="number">0</span>):l(l),r(r),id(id)&#123;&#125;</div><div class="line">&#125; qry[N]; </div><div class="line">	</div><div class="line"><span class="keyword">int</span> n,T,m,q,bt[N],as[N]; </div><div class="line">pii pth[N];</div><div class="line"> </div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">cmin</span><span class="params">(T &amp;x, T a)</span> </span>&#123; <span class="keyword">if</span> (a&lt;x) x=a; &#125;</div><div class="line"> </div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">in</span><span class="params">(T &amp;x)</span> </span>&#123; <span class="keyword">char</span> ch=getchar();</div><div class="line">	<span class="keyword">int</span> f=<span class="number">1</span>; <span class="keyword">for</span>(;ch&lt;<span class="string">'0'</span>||ch&gt;<span class="string">'9'</span>;ch=getchar())<span class="keyword">if</span>(ch==<span class="string">'-'</span>)f=<span class="number">-1</span>;</div><div class="line">	<span class="keyword">for</span> (x=<span class="number">0</span>; ch&gt;=<span class="string">'0'</span>&amp;&amp;ch&lt;=<span class="string">'9'</span>;ch=getchar()) x=x*<span class="number">10</span>+ch<span class="number">-48</span>; x*=f; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="keyword">namespace</span> LCT &#123; </div><div class="line">	<span class="keyword">int</span> sn[N*<span class="number">2</span>][<span class="number">2</span>],f[N*<span class="number">2</span>],mn[N*<span class="number">2</span>],v[N*<span class="number">2</span>],rv[N*<span class="number">2</span>]; </div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">birth</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123; </div><div class="line">		sn[x][<span class="number">0</span>]=sn[x][<span class="number">1</span>]=f[x]=rv[x]=<span class="number">0</span>,mn[x]=v[x]=((x&gt;n)?x:INF); </div><div class="line">	&#125;</div><div class="line">	<span class="keyword">inline</span> <span class="keyword">int</span> _d(<span class="keyword">int</span> x) &#123; <span class="keyword">return</span> sn[f[x]][<span class="number">1</span>]==x;&#125;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">isroot</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;<span class="keyword">return</span> !f[x]||(sn[f[x]][<span class="number">0</span>]!=x&amp;&amp;sn[f[x]][<span class="number">1</span>]!=x);&#125;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">up</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123; </div><div class="line">		mn[x]=v[x]; </div><div class="line">		<span class="keyword">if</span> (sn[x][<span class="number">0</span>]) cmin(mn[x],mn[sn[x][<span class="number">0</span>]]); </div><div class="line">		<span class="keyword">if</span> (sn[x][<span class="number">1</span>]) cmin(mn[x],mn[sn[x][<span class="number">1</span>]]); </div><div class="line">	&#125;</div><div class="line">	<span class="keyword">inline</span> <span class="keyword">void</span> _rev(<span class="keyword">int</span> x) &#123;</div><div class="line">		<span class="keyword">if</span> (!x) <span class="keyword">return</span>; swap(sn[x][<span class="number">0</span>],sn[x][<span class="number">1</span>]),rv[x]^=<span class="number">1</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">down</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123; </div><div class="line">		<span class="keyword">if</span> (rv[x]) _rev(sn[x][<span class="number">0</span>]),_rev(sn[x][<span class="number">1</span>]),rv[x]=<span class="number">0</span>; </div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">rotate</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">	 	<span class="keyword">int</span> y=f[x],d=_d(x),z=f[y]; </div><div class="line">	 	f[x]=z; <span class="keyword">if</span> (!isroot(y)) sn[z][_d(y)]=x; </div><div class="line">	 	<span class="keyword">if</span> (sn[x][d^<span class="number">1</span>])f[sn[x][d^<span class="number">1</span>]]=y; sn[y][d]=sn[x][d^<span class="number">1</span>]; </div><div class="line">	 	sn[x][d^<span class="number">1</span>]=y, f[y]=x, up(y); </div><div class="line">	&#125; </div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">splay</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">	 	<span class="keyword">static</span> <span class="keyword">int</span> stk[N],tp,nw; tp=<span class="number">0</span>,nw=x; </div><div class="line">		<span class="keyword">while</span> (!isroot(nw)) stk[++tp]=nw,nw=f[nw]; </div><div class="line">		stk[++tp]=nw; <span class="keyword">while</span>(tp) down(stk[tp--]);</div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> y=f[x];!isroot(x);rotate(x),y=f[x])</div><div class="line">			<span class="keyword">if</span> (isroot(y)) <span class="keyword">continue</span>; </div><div class="line">			<span class="keyword">else</span> rotate((_d(y)==_d(x)?y:x)); </div><div class="line">		up(x); </div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">access</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">	 	<span class="keyword">for</span> (<span class="keyword">int</span> r=<span class="number">0</span>;x;r=x,x=f[x])splay(x),sn[x][<span class="number">1</span>]=r; </div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">mkroot</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123; </div><div class="line">		access(x),splay(x),_rev(x); </div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">root</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123; </div><div class="line">		access(x),splay(x);<span class="keyword">while</span>(sn[x][<span class="number">0</span>])x=sn[x][<span class="number">0</span>];<span class="keyword">return</span> x;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">link</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span> </span>&#123;</div><div class="line">		mkroot(x),f[x]=y,access(x);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">cutf</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123; </div><div class="line">		access(x),splay(x),f[sn[x][<span class="number">0</span>]]=<span class="number">0</span>,sn[x][<span class="number">0</span>]=<span class="number">0</span>,up(x);</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">cut</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span> </span>&#123; </div><div class="line">		mkroot(x), cutf(y); </div><div class="line">	&#125; </div><div class="line">	<span class="keyword">inline</span> <span class="keyword">int</span> _min(<span class="keyword">int</span> x,<span class="keyword">int</span> y) &#123; </div><div class="line">		mkroot(x),access(y),splay(y);<span class="keyword">return</span> mn[y];</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">cnct</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> x!=y&amp;&amp;root(x)==root(y); </div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> LCT; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(query a, query b)</span> </span>&#123;<span class="keyword">return</span> a.r&lt;b.r;&#125;</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> v)</span> </span>&#123;<span class="keyword">for</span>(;x&lt;=m;x+=x&amp;(-x))bt[x]+=v;&#125;</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">qury</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> sm=<span class="number">0</span>)</span> </span>&#123;<span class="keyword">for</span>(;x;x-=x&amp;(-x))sm+=bt[x];<span class="keyword">return</span> sm;&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">for</span> (in(T);T;--T) &#123; </div><div class="line">		in(n),in(m),in(q); <span class="keyword">int</span> x,y,z;</div><div class="line">		REP(i,<span class="number">1</span>,m) in(x),in(y),pth[i]=mp(x,y); </div><div class="line">		REP(i,<span class="number">1</span>,q) in(x),in(y),qry[i]=query(x,y,i); </div><div class="line">		sort(qry+<span class="number">1</span>, qry+<span class="number">1</span>+q, cmp); <span class="keyword">int</span> j=<span class="number">0</span>; </div><div class="line">		REP(i,<span class="number">0</span>,n+m) birth(i);REP(i,<span class="number">0</span>,m)bt[i]=<span class="number">0</span>; </div><div class="line">		REP(i,<span class="number">1</span>,m) &#123; x=pth[i].fi,y=pth[i].se;</div><div class="line">			</div><div class="line">			<span class="keyword">if</span> (cnct(x,y)) &#123; </div><div class="line">				z=_min(x,y); </div><div class="line">				cut(pth[z-n].fi,z),cut(pth[z-n].se,z), add(z-n, <span class="number">-1</span>); </div><div class="line">			&#125;</div><div class="line">			<span class="keyword">if</span> (x!=y) link(x,i+n),link(y,i+n),add(i,<span class="number">1</span>); </div><div class="line">			<span class="keyword">if</span> (qry[j+<span class="number">1</span>].r==i) &#123; <span class="keyword">int</span> as2=qury(i),as1; </div><div class="line">				<span class="keyword">while</span> (j&lt;q&amp;&amp;qry[j+<span class="number">1</span>].r==i) </div><div class="line">					as1=qury(qry[++j].l<span class="number">-1</span>),as[qry[j].id]=as2-as1;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		REP(i,<span class="number">1</span>,q) <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,n-as[i]); </div><div class="line">	&#125; </div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="cc-diftripdifferent-trips">【CC DIFTRIP】Different Trips</h1>
<h2 id="题目大意-1">题目大意</h2>
<p>每个点的权值是度数，问从每个点到根的所有字符串中，本质不同的子串个数。</p>
<h2 id="解题报告-1">解题报告</h2>
<p>就用每个点的度数离散一下， 做了一个后缀自动机， 字符集的大小开的是<span class="math inline">\(\sqrt{n}\)</span>的，因为本质不同的度数最多有<span class="math inline">\(\sqrt{n}\)</span>个，然后果断跑得好慢（<del>比map还慢</del>)</p>
<p>貌似标算是树上的后缀数组。</p>
<p>广义后缀自动机是从这个地方学的： <a href="%22http://dwjshift.logdown.com/posts/304570%22">传送门</a></p>
<h2 id="代码-1">代码</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"> </div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"> </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i,a,b) for(int i=int(a),nn=int(b);i&lt;=nn;++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> VEP(i,a,b) for(int i=int(a),nn=int(b);i&gt;=nn;--i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i,b) for(int i=0,nn=int(b);i&lt;nn;++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second</span></div><div class="line"> </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vi; </div><div class="line"> </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">100010</span>;</div><div class="line"><span class="keyword">int</span> ls[N],rt,ct,sn[N*<span class="number">2</span>][<span class="number">320</span>],pa[N*<span class="number">2</span>],le[N*<span class="number">2</span>],n,hh[N],tt;</div><div class="line">vi nxt[N]; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">birth</span><span class="params">(<span class="keyword">int</span> len,<span class="keyword">int</span> *go,<span class="keyword">int</span> par=<span class="number">0</span>)</span> </span>&#123;</div><div class="line">	++ct, le[ct]=len, pa[ct]=par; </div><div class="line">	<span class="keyword">if</span> (go!=<span class="literal">NULL</span>) REP(i,<span class="number">1</span>,tt) sn[ct][i]=go[i]; </div><div class="line">	<span class="keyword">return</span> ct;</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">ins</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> ls)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (!hh[x])hh[x]=++tt; x=hh[x];</div><div class="line">	<span class="keyword">int</span> p=ls;  </div><div class="line">	<span class="keyword">if</span> (sn[p][x]&amp;&amp;le[sn[p][x]]==le[p]+<span class="number">1</span>) </div><div class="line">		<span class="keyword">return</span> sn[p][x];</div><div class="line">	<span class="keyword">if</span> (sn[p][x]) &#123;</div><div class="line">		<span class="keyword">int</span> q=sn[p][x],nq=birth(le[p]+<span class="number">1</span>,sn[q],pa[q]); </div><div class="line">		pa[q]=nq; <span class="keyword">while</span>(p&amp;&amp;sn[p][x]==q)sn[p][x]=nq,p=pa[p]; </div><div class="line">		<span class="keyword">return</span> nq; </div><div class="line">	&#125;</div><div class="line">	<span class="keyword">int</span> np=birth(le[p]+<span class="number">1</span>,<span class="literal">NULL</span>); </div><div class="line">	<span class="keyword">while</span> (p&amp;&amp;!sn[p][x]) sn[p][x]=np,p=pa[p];</div><div class="line">	<span class="keyword">if</span> (!p) pa[np]=rt; <span class="keyword">else</span> &#123; </div><div class="line">		<span class="keyword">int</span> q=sn[p][x]; </div><div class="line">		<span class="keyword">if</span> (le[q]==le[p]+<span class="number">1</span>) pa[np]=q; </div><div class="line">		<span class="keyword">else</span> &#123; 	</div><div class="line">			<span class="keyword">int</span> nq=birth(le[p]+<span class="number">1</span>,sn[q],pa[q]); </div><div class="line">			pa[q]=pa[np]=nq;</div><div class="line">			<span class="keyword">while</span>(p&amp;&amp;sn[p][x]==q)sn[p][x]=nq,p=pa[p];</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> np;</div><div class="line">&#125;</div><div class="line">	</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> f)</span> </span>&#123; </div><div class="line">	<span class="keyword">int</span> sz=(f!=<span class="number">0</span>);</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> y:nxt[x])<span class="keyword">if</span>(y!=f)++sz;</div><div class="line">	ls[x]=ins(sz,ls[f]); </div><div class="line">	<span class="keyword">for</span> (<span class="keyword">auto</span> y:nxt[x])<span class="keyword">if</span>(y!=f)dfs(y,x);</div><div class="line">&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n); <span class="keyword">int</span> x,y;</div><div class="line">	rep(i,n<span class="number">-1</span>) <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;x,&amp;y),nxt[x].pb(y),nxt[y].pb(x);</div><div class="line">	ls[<span class="number">0</span>]=rt=ct=<span class="number">1</span>, dfs(<span class="number">1</span>,<span class="number">0</span>); ll as=<span class="number">0</span>; </div><div class="line">	REP(i,<span class="number">2</span>,ct) as+=le[i]-le[pa[i]];</div><div class="line">	<span class="keyword">return</span> <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, as),<span class="number">0</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="cc-evilbookevil-book">【CC EVILBOOK】Evil Book</h1>
<h2 id="题目大意-2">题目大意</h2>
<p>每一个物品可以通过付出<span class="math inline">\(C_i\)</span>的代价得到<span class="math inline">\(M_i\)</span>的收益， 可以通过失去<span class="math inline">\(X\)</span>点收益使某一个物品的<span class="math inline">\(C_i\)</span>和<span class="math inline">\(M_i\)</span>同时<span class="math inline">\(\div 3\)</span> , 问获得<span class="math inline">\(666\)</span>点收益，最少付出多少的代价。</p>
<h2 id="解题报告-2">解题报告</h2>
<p>我竟然是一个连暴力都打不好的蒟蒻。。。</p>
<p>考虑最暴力的求解方法， 枚举每个物品选择的之前进行了多少次的<span class="math inline">\(\div 3\)</span>操作，因为物品的收益和代价都是<span class="math inline">\(\leqslant 10^7\)</span>的， 所以复杂度是<span class="math inline">\((\log_3 10^7)^n\)</span>, （<del>这就有点太暴力了</del>)</p>
<p>优化这个暴力？每个物品的<span class="math inline">\(M\)</span>如果不小于<span class="math inline">\(666*3\)</span>, 那么显然是很多余的（因为我们只需要<span class="math inline">\(666\)</span>), 就可以必要的使用一次<span class="math inline">\(\div 3\)</span>操作；</p>
<p>如果付出的<span class="math inline">\(X\)</span>已经超过了可以获得的<span class="math inline">\(M\)</span>？那就不可能选了对吧。题目中<span class="math inline">\(X\)</span>有一个下界，是<span class="math inline">\(10\)</span>, 可以发现， 如果对<span class="math inline">\(666\)</span>进行<span class="math inline">\(2\)</span>次<span class="math inline">\(\div 3\)</span>操作，那么<span class="math inline">\(2X&gt;666 \div 3^2\)</span>,也就是<span class="math inline">\(M\)</span>消到<span class="math inline">\(666\)</span>后,最多进行<span class="math inline">\(2\)</span>次<span class="math inline">\(\div 3\)</span>操作。</p>
<p>那么一个物品可能进行的<span class="math inline">\(\div 3\)</span>操作数只有四种连续的情况，现在复杂度是<span class="math inline">\(4^n\)</span>了，这就可以过了？ 再顺手加一个最优化剪枝， 最对进行的<span class="math inline">\(\div 3\)</span>操作次数强加一个递增的顺序，就跑得比较快了。</p>
<h2 id="代码-2">代码</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"> </div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"> </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i,a,b) for(int i=int(a),nn=int(b);i&lt;=nn;++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> VEP(i,a,b) for(int i=int(a),nn=int(b);i&gt;=nn;--i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i,b) for(int i=0,nn=int(b);i&lt;nn;++i) </span></div><div class="line"> </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff; </div><div class="line"><span class="keyword">const</span> ff eps=<span class="number">1e-9</span>; </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">21</span>; </div><div class="line"><span class="keyword">int</span> c[N],m[N],n,X,pd[N];</div><div class="line">ff sm,ans;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> us,<span class="keyword">int</span> pre,ff iu,ff hv,ff co)</span></span>&#123;</div><div class="line"><span class="comment">//	cout&lt;&lt;hv&lt;&lt;' '&lt;&lt;co&lt;&lt;endl; </span></div><div class="line">	<span class="keyword">if</span> (hv&gt;<span class="number">666</span>-eps)&#123; ans=min(ans,co); <span class="keyword">return</span>;&#125;</div><div class="line">	<span class="keyword">if</span> (hv+sm/iu&lt;<span class="number">666</span>-eps) <span class="keyword">return</span>;</div><div class="line">	<span class="keyword">if</span> (co&gt;ans) <span class="keyword">return</span>;</div><div class="line">	<span class="keyword">if</span> (us*X&gt;hv) <span class="keyword">return</span>;</div><div class="line">	REP(i,pre,n) <span class="keyword">if</span> (pd[i]==<span class="number">0</span>&amp;&amp;us*X&lt;m[i]/iu)&#123;</div><div class="line">		pd[i]=<span class="number">1</span>; sm-=m[i];</div><div class="line">		dfs(us,i+<span class="number">1</span>,iu,hv-us*X+m[i]/iu,co+c[i]/iu);</div><div class="line">		pd[i]=<span class="number">0</span>; sm+=m[i];</div><div class="line">	&#125;</div><div class="line">	dfs(us+<span class="number">1</span>,<span class="number">1</span>,iu*<span class="number">3</span>,hv,co);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;X); sm=<span class="number">0</span>;</div><div class="line">	REP(i,<span class="number">1</span>,n) <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;c[i],&amp;m[i]), sm+=m[i];</div><div class="line">	<span class="keyword">if</span> (sm&lt;<span class="number">666</span>) &#123; <span class="built_in">puts</span>(<span class="string">"impossible"</span>); <span class="keyword">return</span>;&#125;</div><div class="line">	ans=<span class="number">1e18</span>; dfs(<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>);</div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%.0lf\n"</span>,ans);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</div><div class="line">	<span class="keyword">int</span> t; <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;t);</div><div class="line">	<span class="keyword">for</span> (;t;t--) solve();</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="cc-leboxeslittle-elephant-and-boxes">【CC LEBOXES】Little Elephant and Boxes</h1>
<h2 id="题目大意-3">题目大意</h2>
<p><span class="math inline">\(n\)</span>个宝箱，每一个宝箱有<span class="math inline">\(p_i/100\)</span>的概率转换成<span class="math inline">\(V_i\)</span>的dollars, 有<span class="math inline">\(1-\frac{p_i}{100}\)</span>的概率转成<span class="math inline">\(1\)</span>个diamond.</p>
<p><span class="math inline">\(m\)</span>个商品，每个需要<span class="math inline">\(C_i\)</span>的dollars和<span class="math inline">\(D_i\)</span>的diamonds.</p>
<p>问聪明至极的情况下， 买到的商品数的期望值。</p>
<h2 id="解题报告-3">解题报告</h2>
<p>首先<span class="math inline">\(n\)</span>的范围十分的精妙，<span class="math inline">\(2^n\)</span>跑不了， <span class="math inline">\(2^{n/2}\)</span>次方没问题， 像极了meet in the middle的数据范围。</p>
<p>虽然dollars的数量级很大，但diamond很小， 考虑让diamond数和买到的商品数做下标， 具体的，<span class="math inline">\(f[i][j]\)</span>表示使用<span class="math inline">\(i\)</span>个钻石，买<span class="math inline">\(j\)</span>个商品，最少需要多少的dollars, 这个可以用O/1背包解决。</p>
<p>对 <span class="math inline">\(2^x\)</span> ， 即前 <span class="math inline">\(x\)</span> 个商品的转换情况进行预处理，得到 <span class="math inline">\(sto_{i,j}(x,y)\)</span> , 表示得到<span class="math inline">\(i\)</span>个钻石和不超过<span class="math inline">\(x\)</span>个dollars，的概率为 <span class="math inline">\(y\)</span> .</p>
<p>对<span class="math inline">\(2^{n-x}\)</span>， 即剩下的商品进行查询， 通过二分+查表， 得到期望值。</p>
<p>复杂度<span class="math inline">\(O(2^x\log 2^x+n^3+2^{n-x} \log 2^x)\)</span></p>
<h2 id="代码-3">代码</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></div><div class="line"> </div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"> </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i,a,b) for(int i=int(a),nn=int(b);i&lt;=nn;++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> VEP(i,a,b) for(int i=int(a),nn=int(b);i&gt;=nn;--i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i,b) for(int i=0,nn=int(b);i&lt;nn;++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> lobo lower_bound</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> sz(x) (x.size()) </span></div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff; </div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,ff&gt; pif; </div><div class="line"> </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">35</span>; </div><div class="line"><span class="keyword">int</span> les[N][N],T,n,m,B,v[N],c[N],d[N],p[N]; </div><div class="line"><span class="built_in">vector</span>&lt;pif&gt; sto[N]; </div><div class="line">ff as; </div><div class="line"> </div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">cmin</span><span class="params">(T &amp;x, T a)</span> </span>&#123;<span class="keyword">if</span> (a&lt;x) x=a;&#125;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> dos,<span class="keyword">int</span> das,ff pr)</span> </span>&#123; </div><div class="line">	<span class="keyword">if</span> (x&gt;B) &#123; sto[das].pb(mp(dos,pr)); <span class="keyword">return</span>;&#125; </div><div class="line">	dfs(x+<span class="number">1</span>,dos+v[x],das,pr*((ff)p[x]/<span class="number">100.00</span>)); </div><div class="line">	dfs(x+<span class="number">1</span>,dos,das+<span class="number">1</span>,pr*(<span class="number">1.0</span>-(ff)p[x]/<span class="number">100.00</span>)); </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">getans</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> dos,<span class="keyword">int</span> das,ff pr)</span> </span>&#123; </div><div class="line">	<span class="keyword">if</span> (x&gt;n) &#123; </div><div class="line">		REP(i,<span class="number">0</span>,B) REP(j,<span class="number">1</span>,m) &#123; </div><div class="line">			<span class="built_in">vector</span>&lt;pif&gt;::iterator</div><div class="line">				k=lobo(sto[i].begin(),sto[i].end(),</div><div class="line">				mp(les[i+das][j]-dos,(ff)<span class="number">0</span>)); </div><div class="line">			<span class="keyword">if</span> (k!=sto[i].end()) &#123; </div><div class="line">				ff pl=sto[i][sz(sto[i])<span class="number">-1</span>].se; </div><div class="line">				<span class="keyword">if</span> (k!=sto[i].begin()) --k,pl-=k-&gt;se; </div><div class="line">				as+=(ff)j*pl*pr; </div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span>; </div><div class="line">	&#125;</div><div class="line">	getans(x+<span class="number">1</span>,dos+v[x],das,pr*((ff)p[x]/<span class="number">100.00</span>)); </div><div class="line">	getans(x+<span class="number">1</span>,dos,das+<span class="number">1</span>,pr*(<span class="number">1.0</span>-(ff)p[x]/<span class="number">100.00</span>)); </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">prepare</span><span class="params">()</span> </span>&#123;</div><div class="line"><span class="comment">//get les[i][j] : use i diamonds to buy j objects, what the least cost is; </span></div><div class="line">	<span class="built_in">memset</span>(les,<span class="number">127</span>,<span class="keyword">sizeof</span>(les)); </div><div class="line">	les[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">0</span>; REP(i,<span class="number">1</span>,m) VEP(j,n,d[i]) VEP(k,m,<span class="number">1</span>) </div><div class="line">		<span class="keyword">if</span> (les[j-d[i]][k<span class="number">-1</span>]+c[i]&lt;<span class="number">300000010</span>) </div><div class="line">			cmin(les[j][k],les[j-d[i]][k<span class="number">-1</span>]+c[i]); </div><div class="line"><span class="comment">//get sto[i][j](fi,se) : use the first B boxes, get i dias and no more than fi dols, what the prob; </span></div><div class="line">	B=n/<span class="number">3</span>*<span class="number">2</span>; dfs(<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>); </div><div class="line">	REP(i,<span class="number">0</span>,B) sort(sto[i].begin(),sto[i].end()); </div><div class="line">	REP(i,<span class="number">0</span>,B) REP(j,<span class="number">1</span>,sz(sto[i])<span class="number">-1</span>) sto[i][j].se+=sto[i][j<span class="number">-1</span>].se; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T); <span class="keyword">while</span> (T--) &#123; as=<span class="number">0</span>; </div><div class="line">		rep(i,<span class="number">22</span>) sto[i].clear(); </div><div class="line">		<span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);  REP(i,<span class="number">1</span>,n) <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;v[i],&amp;p[i]); </div><div class="line">		REP(i,<span class="number">1</span>,m) <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;c[i],&amp;d[i]);  </div><div class="line">		prepare(), getans(B+<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>); </div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%.4lf\n"</span>,as); </div><div class="line">	&#125; </div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="cc-gthronesa-game-of-thrones">【CC GTHRONES】A Game of Thrones</h1>
<h2 id="题目大意-4">题目大意</h2>
<p>Bran 和 Tyrion 进行博弈， Bran先手，指定一个数作为当前数<span class="math inline">\(x\)</span>， 之后交替进行操作： 选择一个与当前数满足条件的数<span class="math inline">\(y\)</span>, 将<span class="math inline">\(y\)</span>设为当前数， 删掉一个<span class="math inline">\(x\)</span>, 不能操作者负。</p>
<p>需要满足的条件： 1. 如果<span class="math inline">\(x&gt;y\)</span> , <span class="math inline">\(y|x\)</span>, <span class="math inline">\(x/y\)</span>是一个质数； 2. 如果<span class="math inline">\(y&gt;x\)</span> , <span class="math inline">\(x|y\)</span>, <span class="math inline">\(y/x\)</span>是一个质数。</p>
<h2 id="解题报告-4">解题报告</h2>
<p>首先，如果把满足条件的点<span class="math inline">\(x\)</span>,<span class="math inline">\(y\)</span>连边， 那么原图会成为一个二分图，可以安装质因子个数的奇偶进行分类。</p>
<p>如果这个二分图存在完美匹配，那么先手必负， 因为后手只需要选取匹配中与当前点相连的点就可以不负。</p>
<p>否则， 先手必胜， 考虑先手选择一个不在某个最大匹配中的点作为初始状态， 后手需要使用存在于最大匹配中的点（否则不满足最大匹配的定义），然后，先手只需要使用最大匹配中对应的点回敬即可不负。</p>
<p>所以只需要判断是否存在完美匹配就可以判断胜负， 然后找到最小的不在某个最大匹配中的点作为最小代价，可以通过网络流的退流操作进行判断。</p>
<h2 id="代码-4">代码</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"> </div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"> </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i,a,b) for(int i=int(a),nn=int(b);i&lt;=nn;++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> VEP(i,a,b) for(int i=int(a),nn=int(b);i&gt;=nn;--i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i,b) for(int i=0,nn=int(b);i&lt;nn;++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"> </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">double</span> ff; </div><div class="line"> </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">510</span>; </div><div class="line"><span class="keyword">const</span> ll inf=<span class="number">1000000000000000l</span>l; </div><div class="line"> </div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span> &#123;</span> </div><div class="line">	<span class="keyword">int</span> nxt,to; ll f; </div><div class="line">	edge(<span class="keyword">int</span> nxt=<span class="number">0</span>,<span class="keyword">int</span> to=<span class="number">0</span>,ll f=<span class="number">0</span>) </div><div class="line">		:nxt(nxt),to(to),f(f)&#123;&#125;</div><div class="line">&#125; e[N*N*<span class="number">3</span>]; </div><div class="line"> </div><div class="line"><span class="keyword">int</span> hed[N*<span class="number">2</span>],tot=<span class="number">1</span>,n,c[N*<span class="number">2</span>],co[N*<span class="number">2</span>],p[N],od[N]; <span class="keyword">bool</span> viz[N];</div><div class="line"><span class="keyword">int</span> S,T,s,t,de[N*<span class="number">2</span>],q[N*N],he,ta; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; v[N]; ll u[N*<span class="number">2</span>];  </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,ll f)</span> </span>&#123;</div><div class="line">	e[++tot]=edge(hed[x],y,f), hed[x]=tot; </div><div class="line">	e[++tot]=edge(hed[y],x,<span class="number">0</span>), hed[y]=tot; <span class="keyword">return</span> tot^<span class="number">1</span>; </div><div class="line">&#125; </div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">in</span><span class="params">(T &amp;x)</span> </span>&#123; <span class="keyword">char</span> ch=getchar(); <span class="keyword">int</span> f=<span class="number">1</span>; </div><div class="line">	<span class="keyword">for</span> (;ch&lt;<span class="string">'0'</span>||ch&gt;<span class="string">'9'</span>;ch=getchar()) <span class="keyword">if</span>(ch==<span class="string">'-'</span>)f=<span class="number">-1</span>; </div><div class="line">	<span class="keyword">for</span> (x=<span class="number">0</span>; ch&gt;=<span class="string">'0'</span>&amp;&amp;ch&lt;=<span class="string">'9'</span>;ch=getchar()) x=x*<span class="number">10</span>+ch<span class="number">-48</span>; </div><div class="line">	x*=f; </div><div class="line">&#125; </div><div class="line"><span class="keyword">void</span> _color(<span class="keyword">int</span> x,<span class="keyword">int</span> fm=<span class="number">0</span>) &#123; </div><div class="line">	viz[x]=<span class="number">1</span>;co[x]=co[fm]^<span class="number">1</span>; </div><div class="line">	rep(i,v[x].size()) <span class="keyword">if</span> (!viz[v[x][i]]) _color(v[x][i],x); </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">bfs</span><span class="params">()</span> </span>&#123; </div><div class="line">	he=ta=<span class="number">0</span>,q[ta++]=s; <span class="built_in">memset</span>(de,<span class="number">0</span>,<span class="keyword">sizeof</span>(de)),de[s]=<span class="number">1</span>; <span class="keyword">int</span> x,y;  </div><div class="line">	<span class="keyword">while</span> (he&lt;ta) &#123; x=q[he++]; <span class="keyword">for</span>(<span class="keyword">int</span> i=hed[x];i;i=e[i].nxt) </div><div class="line">		<span class="keyword">if</span> (y=e[i].to, !de[y]&amp;&amp;e[i].f) de[y]=de[x]+<span class="number">1</span>,q[ta++]=y; </div><div class="line">	&#125; </div><div class="line">	<span class="keyword">return</span> de[t]; </div><div class="line">&#125; </div><div class="line"><span class="function">ll <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x, ll lm)</span> </span>&#123; ll f,hv=<span class="number">0</span>; <span class="keyword">int</span> y; <span class="keyword">if</span> (x==t) <span class="keyword">return</span> lm;  </div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=hed[x];i;i=e[i].nxt) <span class="keyword">if</span> (y=e[i].to,de[y]==de[x]+<span class="number">1</span>&amp;&amp;e[i].f) &#123; </div><div class="line">		f=dfs(y,min(e[i].f, lm)); e[i].f-=f,e[i^<span class="number">1</span>].f+=f,hv+=f,lm-=f; </div><div class="line">		<span class="keyword">if</span> (!lm) <span class="keyword">return</span> hv; </div><div class="line">	&#125; de[x]=<span class="number">-1</span>; <span class="keyword">return</span> hv; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">dinic</span><span class="params">(<span class="keyword">int</span> _s, <span class="keyword">int</span> <span class="keyword">_t</span>)</span> </span>&#123; </div><div class="line">	s=_s, t=<span class="keyword">_t</span>; ll as=<span class="number">0</span>; <span class="keyword">while</span> (bfs()) as+=dfs(s,inf); <span class="keyword">return</span> as; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> pm[<span class="number">10</span>]=&#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">17</span>,<span class="number">19</span>,<span class="number">23</span>,<span class="number">29</span>&#125;; </div><div class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">mul</span><span class="params">(ll a,ll b,ll p)</span> </span>&#123;</div><div class="line">	a%=p,b%=p; <span class="keyword">if</span>(a&lt;<span class="number">0</span>)a+=p; <span class="keyword">if</span>(b&lt;<span class="number">0</span>)b+=p; </div><div class="line">	ll k=(ll)(((ff)a*b/p)); ll as=a*b-p*k; </div><div class="line">	as%=p; <span class="keyword">if</span>(as&lt;<span class="number">0</span>) as+=p; <span class="keyword">return</span> as; </div><div class="line">&#125; </div><div class="line"><span class="function"><span class="keyword">inline</span> ll <span class="title">fast</span><span class="params">(ll x,ll k,ll p)</span> </span>&#123; </div><div class="line">	ll as=<span class="number">1</span>; <span class="keyword">for</span>(;k;k&gt;&gt;=<span class="number">1</span>,x=mul(x,x,p)) <span class="keyword">if</span>(k&amp;<span class="number">1</span>) as=mul(as,x,p);</div><div class="line">	<span class="keyword">return</span> as;</div><div class="line">&#125; </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">miller_rabin</span><span class="params">(ll x)</span> </span>&#123; </div><div class="line">	<span class="keyword">if</span> (x==<span class="number">2</span>) <span class="keyword">return</span> <span class="number">1</span>; <span class="keyword">if</span> (x&lt;=<span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>; <span class="keyword">if</span>(x%<span class="number">2</span>==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">	ll a,m=x<span class="number">-1</span>,k=<span class="number">0</span>; <span class="keyword">while</span> (m%<span class="number">2</span>==<span class="number">0</span>) m/=<span class="number">2</span>,++k; </div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>;++i) &#123; <span class="keyword">if</span> (pm[i]==x) <span class="keyword">return</span> <span class="number">1</span>; </div><div class="line">		a=fast(pm[i],m,x); <span class="keyword">if</span>(a==<span class="number">1</span>) <span class="keyword">continue</span>; </div><div class="line">		<span class="keyword">int</span> j; <span class="keyword">for</span> (j=<span class="number">1</span>;j&lt;=k;++j) &#123; </div><div class="line">			<span class="keyword">if</span>(a==x<span class="number">-1</span>) <span class="keyword">break</span>; a=mul(a,a,x);</div><div class="line">		&#125; </div><div class="line">		<span class="keyword">if</span> (j&gt;k) <span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">	&#125; </div><div class="line">	<span class="keyword">return</span> <span class="number">1</span>; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">chek</span><span class="params">(ll a,ll b)</span> </span>&#123; </div><div class="line">	<span class="keyword">if</span> (a&lt;b) swap(a,b); <span class="keyword">if</span>(a%b) <span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">	<span class="keyword">if</span> (!miller_rabin(a/b)) <span class="keyword">return</span> <span class="number">0</span>; <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125; </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span> </span>&#123; <span class="keyword">return</span> u[a]&lt;u[b];&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line"><span class="comment">//	freopen("A.in","r",stdin); </span></div><div class="line"><span class="comment">//	freopen("A.out","w",stdout); </span></div><div class="line">	in(n); REP(i,<span class="number">1</span>,n) in(u[i]),in(c[i]);</div><div class="line">	REP(i,<span class="number">1</span>,n) REP(j,i+<span class="number">1</span>,n) <span class="keyword">if</span>(chek(u[i],u[j])) </div><div class="line">		v[i].pb(j),v[j].pb(i); </div><div class="line">	REP(i,<span class="number">1</span>,n) <span class="keyword">if</span> (!viz[i]) _color(i); </div><div class="line"> </div><div class="line">	S=<span class="number">0</span>, T=n+<span class="number">1</span>; ll s1=<span class="number">0</span>, s2=<span class="number">0</span>;  </div><div class="line">	REP(i,<span class="number">1</span>,n) <span class="keyword">if</span> (co[i]==<span class="number">1</span>) &#123; </div><div class="line">		p[i]=add(S,i,c[i]),s1+=c[i]; </div><div class="line">		rep(j,v[i].size()) add(i,v[i][j],inf); </div><div class="line">	&#125; <span class="keyword">else</span> p[i]=add(i,T,c[i]),s2+=c[i]; </div><div class="line">	ll flo=dinic(S,T); </div><div class="line"> </div><div class="line">	<span class="keyword">if</span> (flo==max(s1,s2)) &#123;<span class="built_in">puts</span>(<span class="string">"Tyrion"</span>);<span class="keyword">return</span> <span class="number">0</span>;&#125;</div><div class="line">	REP(i,<span class="number">1</span>,n) od[i]=i; sort(od+<span class="number">1</span>,od+<span class="number">1</span>+n,cmp); </div><div class="line">	ll fno,old1,old2; <span class="keyword">int</span> pa,k;  </div><div class="line">	<span class="built_in">printf</span>(<span class="string">"Bran"</span>); REP(i,<span class="number">1</span>,n) &#123; k=od[i],pa=p[k]; </div><div class="line">		<span class="keyword">if</span> (e[pa].f) &#123;<span class="built_in">printf</span>(<span class="string">" %lld\n"</span>,u[k]);<span class="keyword">return</span> <span class="number">0</span>;&#125;</div><div class="line">		old1=e[pa].f, old2=e[pa^<span class="number">1</span>].f; </div><div class="line">		e[pa].f=e[pa^<span class="number">1</span>].f=<span class="number">0</span>; </div><div class="line">		<span class="keyword">if</span> (co[k]==<span class="number">1</span>) fno=dinic(S,k); </div><div class="line">		<span class="keyword">else</span> fno=dinic(k,T); </div><div class="line">		<span class="keyword">if</span> (fno) &#123; <span class="built_in">printf</span>(<span class="string">" %lld\n"</span>,u[k]); <span class="keyword">return</span> <span class="number">0</span>;&#125; </div><div class="line">		e[pa].f=old1, e[pa^<span class="number">1</span>].f=old2;</div><div class="line">	&#125; </div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="cc-cardchufcard-shuffle">【CC CARDCHUF】Card Shuffle</h1>
<h2 id="题目大意-5">题目大意</h2>
<p>初始一个<span class="math inline">\(1\)</span>到<span class="math inline">\(n\)</span>的序列，每次进行几个操作： 1. 拿走顶端的<span class="math inline">\(A\)</span>个数。 2. 再拿走顶端的<span class="math inline">\(B\)</span>个数。 3. 把<span class="math inline">\(A\)</span>个数放回顶端。 4. 在顶端拿走<span class="math inline">\(C\)</span>个数。 5. 把<span class="math inline">\(B\)</span>个数倒序放回顶端。 6. 放回<span class="math inline">\(C\)</span>个数。</p>
<h2 id="解题报告-5">解题报告</h2>
<p>天朝数据结构碾压终生。</p>
<p>FHQTreap超容易写的一道裸题。HARD？</p>
<h2 id="代码-5">代码</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"> </div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"> </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i,a,b) for(int i=int(a),nn=int(b);i&lt;=nn;++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> VEP(i,a,b) for(int i=int(a),nn=int(b);i&gt;=nn;--i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i,b) for(int i=0,nn=int(b);i&lt;nn;++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> pb push_back</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> mp make_pair</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> fi first</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> se second </span></div><div class="line"> </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff; </div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; droot; </div><div class="line"> </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">100100</span>; </div><div class="line"> </div><div class="line"><span class="keyword">int</span> n,m,sn[N][<span class="number">2</span>],ke[N],v[N],sz[N],ct,rv[N],rt;</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">in</span><span class="params">(<span class="keyword">int</span> &amp;x)</span> </span>&#123;</div><div class="line">	<span class="keyword">char</span> ch=getchar(); <span class="keyword">int</span> f=<span class="number">1</span>; </div><div class="line">	<span class="keyword">for</span>(;ch&lt;<span class="string">'0'</span>||ch&gt;<span class="string">'9'</span>;ch=getchar()) </div><div class="line">		<span class="keyword">if</span> (ch==<span class="string">'-'</span>) f=<span class="number">-1</span>; </div><div class="line">	<span class="keyword">for</span> (x=<span class="number">0</span>;ch&gt;=<span class="string">'0'</span>&amp;&amp;ch&lt;=<span class="string">'9'</span>;ch=getchar()) </div><div class="line">		x=x*<span class="number">10</span>+ch<span class="number">-48</span>; x*=f; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">birth</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123; </div><div class="line">	++ct; ke[x]=rand(),sn[ct][<span class="number">0</span>]=sn[ct][<span class="number">1</span>]=<span class="number">0</span>,v[ct]=x,sz[ct]=<span class="number">1</span>;<span class="keyword">return</span> ct;</div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="keyword">inline</span> <span class="keyword">void</span> _rev(<span class="keyword">int</span> x) &#123;</div><div class="line">	<span class="keyword">if</span> (!x) <span class="keyword">return</span> ; </div><div class="line">	rv[x]^=<span class="number">1</span>; swap(sn[x][<span class="number">0</span>],sn[x][<span class="number">1</span>]); </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">down</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123; </div><div class="line">	<span class="keyword">if</span> (rv[x]) _rev(sn[x][<span class="number">0</span>]), _rev(sn[x][<span class="number">1</span>]), rv[x]=<span class="number">0</span>; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">up</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123; </div><div class="line">	sz[x]=<span class="number">1</span>; <span class="keyword">if</span> (sn[x][<span class="number">0</span>]) sz[x]+=sz[sn[x][<span class="number">0</span>]]; </div><div class="line">	<span class="keyword">if</span> (sn[x][<span class="number">1</span>]) sz[x]+=sz[sn[x][<span class="number">1</span>]]; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">build</span><span class="params">()</span> </span>&#123; </div><div class="line">	<span class="keyword">static</span> <span class="keyword">int</span> stk[N],tp,x,las; </div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; ++i) &#123; </div><div class="line">		x=birth(i); <span class="keyword">while</span> (tp&amp;&amp;ke[stk[tp]]&gt;ke[x]) </div><div class="line">			las=stk[tp], --tp, up(las); </div><div class="line">		<span class="keyword">if</span> (tp) sn[stk[tp]][<span class="number">1</span>]=x;</div><div class="line">		sn[x][<span class="number">0</span>]=las, stk[++tp]=x,las=<span class="number">0</span>;  </div><div class="line">	&#125; </div><div class="line">	<span class="keyword">while</span> (tp) up(stk[tp]), --tp; </div><div class="line">	<span class="keyword">return</span> stk[<span class="number">1</span>]; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function">droot <span class="title">split</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">	<span class="keyword">if</span> (!x) <span class="keyword">return</span> mp(<span class="number">0</span>,<span class="number">0</span>); <span class="keyword">if</span> (!k) <span class="keyword">return</span> mp(<span class="number">0</span>,x); </div><div class="line">	down(x); <span class="keyword">int</span> lsz=sz[sn[x][<span class="number">0</span>]]; droot y;  </div><div class="line">	<span class="keyword">if</span> (lsz&gt;=k) &#123; y=split(sn[x][<span class="number">0</span>],k); </div><div class="line">	 	sn[x][<span class="number">0</span>]=y.se; up(x); y.se=x; </div><div class="line">	&#125; <span class="keyword">else</span> &#123; y=split(sn[x][<span class="number">1</span>],k<span class="number">-1</span>-lsz); </div><div class="line">	 	sn[x][<span class="number">1</span>]=y.fi; up(x); y.fi=x;  </div><div class="line">	&#125; </div><div class="line">	<span class="keyword">return</span> y; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123; <span class="keyword">if</span>(a*b==<span class="number">0</span>) <span class="keyword">return</span> a+b; </div><div class="line">	down(a), down(b); </div><div class="line">	<span class="keyword">if</span> (ke[a]&lt;ke[b]) &#123; </div><div class="line">		sn[a][<span class="number">1</span>]=merge(sn[a][<span class="number">1</span>],b);</div><div class="line">		up(a); <span class="keyword">return</span> a; </div><div class="line">	&#125; <span class="keyword">else</span> &#123; </div><div class="line">		sn[b][<span class="number">0</span>]=merge(a, sn[b][<span class="number">0</span>]); </div><div class="line">		up(b); <span class="keyword">return</span> b; </div><div class="line">	&#125; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">look</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123; </div><div class="line">	<span class="keyword">if</span>(!x) <span class="keyword">return</span>; down(x); </div><div class="line">	<span class="keyword">if</span> (sn[x][<span class="number">0</span>]) look(sn[x][<span class="number">0</span>]); </div><div class="line">	<span class="built_in">printf</span>(<span class="string">"%d "</span>, v[x]); </div><div class="line">	<span class="keyword">if</span> (sn[x][<span class="number">1</span>]) look(sn[x][<span class="number">1</span>]); </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </div><div class="line">	in(n),in(m),rt=build();<span class="keyword">int</span> a,b,c;</div><div class="line">	<span class="comment">//look(rt); //cout&lt;&lt;endl; </span></div><div class="line">	rep(i,m) &#123; in(a),in(b),in(c); </div><div class="line">		droot A=split(rt,a); </div><div class="line">		droot B=split(A.se,b); </div><div class="line">		rt=merge(A.fi,B.se); </div><div class="line">		<span class="comment">//look(rt); //cout&lt;&lt;endl; </span></div><div class="line">		A=split(rt, c); </div><div class="line">		_rev(B.fi),A.se=merge(B.fi,A.se); </div><div class="line">		rt=merge(A.fi,A.se); </div><div class="line">		<span class="comment">//look(rt);cout&lt;&lt;endl; </span></div><div class="line">	&#125; </div><div class="line">	look(rt); <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>; <span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="cc-tapaircounting-the-important-pairs">【CC TAPAIR】Counting The Important Pairs</h1>
<h2 id="题目大意-6">题目大意</h2>
<p>一个无向简单图， 求无序点对<span class="math inline">\((x,y)\)</span>满足同时删除这两条边，无向图不再联通的对数。</p>
<h2 id="解题报告-6">解题报告</h2>
<p>在dfs树上观察， 发现如果<span class="math inline">\(x\)</span>,<span class="math inline">\(y\)</span>两条边有相同的编号，那么同时删除无向图不再联通。</p>
<p>编号是啥？ 令dfs树上的返祖边，每个反祖边有一个编号，那么树上一条边的编号是删除这条边后，使用哪些返祖边可以使图依旧联通的编号集合。</p>
<p>其实有两种情况： 1. 两个编号相同边一个是返祖边，一个是树边，那么这个返祖边是唯一一个使得树边删除后图依然联通的边， 同时删除满足题意。 2. 如果都是树边， 容易得到不存在返祖边使得两条树边之间的联通块与其他部分联通， 同时删除两条树边，使得中间的联通块“独立”， 满足题意。</p>
<p>那怎么判断两个边的编号是不是相同？用奇怪的Hash技巧（比如xor?)就可以了。</p>
<h2 id="代码-6">代码</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"> </div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"> </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i,a,b) for(int i=int(a),nn=int(b);i&lt;=nn;++i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> VEP(i,a,b) for(int i=int(a),nn=int(b);i&gt;=nn;--i)</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i,b) for(int i=0,nn=int(b);i&lt;nn;++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> RAND ull((1ull*rand()&lt;&lt;45)|(1ull*rand()&lt;&lt;30)|(rand()&lt;&lt;15)|rand())</span></div><div class="line"> </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="keyword">long</span> ull; </div><div class="line"> </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">100010</span>; </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> M=<span class="number">300010</span>; </div><div class="line"> </div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span> &#123;</span></div><div class="line">	 <span class="keyword">int</span> nxt,to; edge(<span class="keyword">int</span> nxt=<span class="number">0</span>,<span class="keyword">int</span> to=<span class="number">0</span>)</div><div class="line">	 	:nxt(nxt),to(to) &#123;&#125;</div><div class="line">&#125; e[M&lt;&lt;<span class="number">1</span>]; </div><div class="line"> </div><div class="line"><span class="keyword">int</span> hed[N],tot,n,m; ull v[M];</div><div class="line"><span class="keyword">bool</span> vi[N],instk[N]; </div><div class="line"> </div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">in</span><span class="params">(T &amp;x)</span> </span>&#123; </div><div class="line">	<span class="keyword">char</span> ch=getchar(); <span class="keyword">int</span> f=<span class="number">1</span>; </div><div class="line">	<span class="keyword">for</span> (;ch&lt;<span class="string">'0'</span>||ch&gt;<span class="string">'9'</span>;ch=getchar())</div><div class="line">		<span class="keyword">if</span> (ch==<span class="string">'-'</span>) f=<span class="number">-1</span>; </div><div class="line">	<span class="keyword">for</span> (x=<span class="number">0</span>;ch&gt;=<span class="string">'0'</span>&amp;&amp;ch&lt;=<span class="string">'9'</span>;ch=getchar()) </div><div class="line">		x=x*<span class="number">10</span>+ch<span class="number">-48</span>;  x*=f; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span> </span>&#123; </div><div class="line">	e[++tot]=edge(hed[x],y), hed[x]=tot; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> fm)</span> </span>&#123;</div><div class="line">	instk[x]=<span class="number">1</span>,vi[x]=<span class="number">1</span>; </div><div class="line"><span class="comment">//	cout&lt;&lt;RAND&lt;&lt;endl; </span></div><div class="line">	<span class="keyword">int</span> y; <span class="keyword">for</span> (<span class="keyword">int</span> i=hed[x];i;i=e[i].nxt) </div><div class="line">		<span class="keyword">if</span> (y=e[i].to, y!=fm) &#123; </div><div class="line">			<span class="keyword">if</span> (vi[y]) &#123; <span class="keyword">if</span>(instk[y]) v[++n]=RAND,v[x]^=v[n],v[y]^=v[n];&#125;</div><div class="line">			<span class="keyword">else</span> dfs(y,x); </div><div class="line">		&#125; </div><div class="line">	v[fm]^=v[x],instk[x]=<span class="number">0</span>; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; in(n),in(m); srand(<span class="number">23333</span>); </div><div class="line">	<span class="keyword">int</span> x,y; rep(i,m) in(x),in(y),add(x,y),add(y,x); </div><div class="line">	dfs(<span class="number">1</span>,<span class="number">0</span>),v[<span class="number">1</span>]=v[n],--n, sort(v+<span class="number">1</span>,v+<span class="number">1</span>+n); ll t; <span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>; </div><div class="line">	<span class="keyword">while</span> (i&lt;n&amp;&amp;v[i+<span class="number">1</span>]==<span class="number">0</span>) ++i; ll as=<span class="number">0</span>; </div><div class="line">	t=i,t*=n<span class="number">-1</span>,as+=t,t=i,t=t*(t<span class="number">-1</span>)/<span class="number">2</span>,as-=t; </div><div class="line">	<span class="keyword">for</span> (++i;i&lt;=n;i=j+<span class="number">1</span>) &#123; j=i; <span class="keyword">while</span> (j&lt;n&amp;&amp;v[j+<span class="number">1</span>]==v[i]) ++j; </div><div class="line">		t=j-i+<span class="number">1</span>, t=t*(t<span class="number">-1</span>)/<span class="number">2</span>, as+=t; </div><div class="line">	&#125; </div><div class="line">	<span class="built_in">cout</span>&lt;&lt;as&lt;&lt;<span class="built_in">endl</span>; </div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="cc-farasafurik-and-rubik-and-sub-array">【CC FARASA】Furik and Rubik and Sub Array</h1>
<h2 id="题目大意-7">题目大意</h2>
<p>给出一个序列，求不同的区间和的个数。</p>
<h2 id="解题报告-7">解题报告</h2>
<p>题目对<span class="math inline">\(n*SUM\)</span>做了约束，如果<span class="math inline">\(n\)</span>很小， 直接<span class="math inline">\(O(n^2logn)\)</span>艹过去了。</p>
<p>如果<span class="math inline">\(n\)</span>大一点，比如<span class="math inline">\(2000 &lt; n \leqslant 20000\)</span> , 那么数的和就可以作为数组的下标，所以<span class="math inline">\(O(n^2)\)</span>艹过去了。</p>
<p>如果<span class="math inline">\(n\)</span>再大一点？比如<span class="math inline">\(20000&lt;n\leqslant 200000\)</span>, 可以把<span class="math inline">\(sum(l,r)\)</span>表示成<span class="math inline">\(pre(r)-pre(l-1)\)</span> , 可以把<span class="math inline">\(pre\)</span>数组和<span class="math inline">\(-pre\)</span>数组分别作为多项式的幂指数， 做多项式乘法统计系数就可以了，<span class="math inline">\(O(sum\log sum)\)</span>艹过去了！</p>
<p>但是我发现自己的多项式代码一直WA，然后把对拍用的暴力交了上去，竟然是跑得最快的。。。 是不是用什么生日悖论可以证明暴力复杂度优越呀。。</p>
<h2 id="代码-7">代码</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"> </div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"> </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"> </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">200010</span>;</div><div class="line">ll a[N]; <span class="keyword">int</span> s[N],n;</div><div class="line"><span class="keyword">bool</span> f[<span class="number">20000010</span>];</div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</div><div class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;++i) <span class="built_in">scanf</span>(<span class="string">"%lld"</span>, &amp;a[i]);</div><div class="line">	ll ans=<span class="number">0</span>;</div><div class="line">	<span class="keyword">if</span>(n&lt;=<span class="number">2000</span>) &#123;</div><div class="line">		<span class="built_in">set</span>&lt;ll&gt; s;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> l=<span class="number">1</span>;l&lt;=n;++l) &#123;</div><div class="line">			ll sum=<span class="number">0</span>;</div><div class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> r=l;r&lt;=n;++r) </div><div class="line">				sum+=a[r], s.insert(sum);</div><div class="line">		&#125;</div><div class="line">		ans=s.size();</div><div class="line">	&#125; <span class="keyword">else</span> &#123;</div><div class="line">		s[<span class="number">0</span>]=<span class="number">0</span>, f[<span class="number">0</span>]=<span class="number">1</span>;</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n; ++i)</div><div class="line">			s[i]=s[i<span class="number">-1</span>]+a[i], f[s[i]]=<span class="number">1</span>;</div><div class="line">		<span class="keyword">int</span> sum=s[n];</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=sum;++i) &#123;</div><div class="line">			<span class="keyword">if</span>(!f[i]) &#123;</div><div class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=n; ++j) &#123;</div><div class="line">					<span class="keyword">int</span> x=s[j]+i; <span class="keyword">if</span> (x&gt;sum) <span class="keyword">break</span>;</div><div class="line">					<span class="keyword">if</span>(f[x]) &#123; f[i]=<span class="number">1</span>; <span class="keyword">break</span>; &#125;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">			ans+=f[i];</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">cout</span>&lt;&lt;ans<span class="number">-1</span>&lt;&lt;<span class="built_in">endl</span>;	</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>FFT 做法</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"> </div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"> </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i,a,b) for(int i=int(a),nn=int(b);i&lt;=nn;++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> VEP(i,a,b) for(int i=int(a),nn=int(b);i&gt;=nn;--i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i,b) for(int i=0,nn=int(b);i&lt;nn;++i) </span></div><div class="line"> </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll; </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">double</span> ff; </div><div class="line"> </div><div class="line"><span class="keyword">const</span> ff pi=<span class="built_in">acos</span>(<span class="number">-1</span>); </div><div class="line">ll a[<span class="number">200010</span>],n;</div><div class="line"> </div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; </div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">in</span><span class="params">(T &amp;x)</span> </span>&#123; </div><div class="line">	<span class="keyword">char</span> ch=getchar();</div><div class="line">	<span class="keyword">for</span> (;ch&lt;<span class="string">'0'</span>||ch&gt;<span class="string">'9'</span>;ch=getchar());</div><div class="line">	<span class="keyword">for</span> (x=<span class="number">0</span>;ch&gt;=<span class="string">'0'</span>&amp;&amp;ch&lt;=<span class="string">'9'</span>;ch=getchar())</div><div class="line">		x=x*<span class="number">10</span>+ch<span class="number">-48</span>; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="keyword">namespace</span> one &#123; </div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </div><div class="line">		<span class="built_in">set</span>&lt;ll&gt; s; </div><div class="line">		REP(i,<span class="number">1</span>,n) &#123; a[i]+=a[i<span class="number">-1</span>]; </div><div class="line">			rep(j,i) <span class="keyword">if</span> (s.count(a[i]-a[j])==<span class="number">0</span>) </div><div class="line">				s.insert(a[i]-a[j]); </div><div class="line">		&#125; </div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, s.size()<span class="number">-1</span>); </div><div class="line">	&#125; </div><div class="line">&#125; </div><div class="line"><span class="keyword">namespace</span> two &#123; </div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </div><div class="line">		<span class="built_in">bitset</span>&lt;20000001&gt; exi; </div><div class="line">		REP(i,<span class="number">1</span>,n) &#123; a[i]+=a[i<span class="number">-1</span>]; </div><div class="line">			rep(j,i) exi.<span class="built_in">set</span>(a[i]-a[j]); </div><div class="line">		&#125;</div><div class="line">		exi.reset(<span class="number">0</span>); </div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, exi.count()<span class="number">-1</span>) ; </div><div class="line">	&#125; </div><div class="line">&#125;</div><div class="line"><span class="keyword">namespace</span> three &#123; </div><div class="line">	<span class="keyword">int</span> _n,r[<span class="number">600000</span>]; </div><div class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">cmx</span> &#123;</span> </div><div class="line">		ff x,y; cmx(ff x=<span class="number">0</span>,ff y=<span class="number">0</span>):x(x),y(y)&#123;&#125;</div><div class="line">		cmx <span class="keyword">operator</span> +(<span class="keyword">const</span> cmx b) &#123; <span class="keyword">return</span> cmx(x+b.x,y+b.y);&#125;</div><div class="line">		cmx <span class="keyword">operator</span> -(<span class="keyword">const</span> cmx b) &#123; <span class="keyword">return</span> cmx(x-b.x,y-b.y);&#125;</div><div class="line">		cmx <span class="keyword">operator</span> *(<span class="keyword">const</span> cmx b) &#123; <span class="keyword">return</span> cmx(x*b.x-y*b.y,x*b.y+y*b.x);&#125;</div><div class="line">	&#125; A[<span class="number">600000</span>],B[<span class="number">600000</span>]; </div><div class="line">	<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">dft</span><span class="params">(cmx *a,<span class="keyword">int</span> f)</span> </span>&#123; </div><div class="line">		rep(i,_n) <span class="keyword">if</span> (i&lt;r[i]) swap(a[i],a[r[i]]); </div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> m=<span class="number">1</span>; m&lt;_n; m&lt;&lt;=<span class="number">1</span>) &#123; </div><div class="line">			cmx wn=cmx(<span class="built_in">cos</span>(pi/m),<span class="built_in">sin</span>(pi/m)*f); </div><div class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;_n; i+=m&lt;&lt;<span class="number">1</span>) &#123;</div><div class="line">				cmx w=cmx(<span class="number">1</span>,<span class="number">0</span>); </div><div class="line">				<span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;m; ++j) &#123;</div><div class="line">					cmx x=a[i+j],y=a[i+j+m]*w; </div><div class="line">					a[i+j]=x+y, a[i+j+m]=x-y; </div><div class="line">					w=w*wn; </div><div class="line">				&#125; </div><div class="line">			&#125; </div><div class="line">		&#125; </div><div class="line">		<span class="keyword">if</span> (f==<span class="number">-1</span>) rep(i,_n) a[i].x/=(ff)_n; </div><div class="line">	&#125; </div><div class="line">				</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line">		REP(i,<span class="number">1</span>,n) &#123; a[i]+=a[i<span class="number">-1</span>],A[a[i]].x=<span class="number">1</span>;&#125; </div><div class="line">		A[<span class="number">0</span>].x=<span class="number">1</span>; rep(i,a[n]+<span class="number">1</span>) B[i].x=A[a[n]-i].x; </div><div class="line">		<span class="keyword">int</span> m=a[n]+a[n]+<span class="number">1</span>; <span class="keyword">for</span> (_n=<span class="number">1</span>; _n&lt;m; _n&lt;&lt;=<span class="number">1</span>); </div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>,j=<span class="number">0</span>;i&lt;_n;++i) &#123; r[i]=j; </div><div class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> k=_n&gt;&gt;<span class="number">1</span>;(j^=k)&lt;k;k&gt;&gt;=<span class="number">1</span>); </div><div class="line">		&#125; </div><div class="line">		dft(A,<span class="number">1</span>),dft(B,<span class="number">1</span>);rep(i,_n) A[i]=A[i]*B[i]; ll as=<span class="number">0</span>; </div><div class="line">		dft(A,<span class="number">-1</span>); REP(i,a[n]+<span class="number">1</span>,a[n]+a[n]) <span class="keyword">if</span> (<span class="keyword">int</span>(A[i].x+<span class="number">0.5</span>)) ++as; </div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%lld\n"</span>, as<span class="number">-1</span>); </div><div class="line">	&#125; </div><div class="line">&#125; </div><div class="line"> </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</div><div class="line"><span class="comment">//	freopen("A.in","r",stdin);</span></div><div class="line"><span class="comment">//	freopen("A.out","w",stdout); </span></div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n); <span class="comment">//cout&lt;&lt;1&lt;&lt;endl;</span></div><div class="line">	</div><div class="line">	REP(i,<span class="number">1</span>,n) <span class="built_in">scanf</span>(<span class="string">"%lld"</span>,&amp;a[i]);</div><div class="line">	</div><div class="line"> </div><div class="line">	<span class="keyword">if</span> (n&lt;=<span class="number">2000</span>) one :: main(); </div><div class="line">	<span class="keyword">else</span> <span class="keyword">if</span> (n&lt;=<span class="number">20000</span>) two :: main(); </div><div class="line">		<span class="keyword">else</span> three:: main(); </div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="cc-changemaking-change">【CC CHANGE】Making Change</h1>
<h2 id="题目大意-8">题目大意</h2>
<h2 id="解题报告-8">解题报告</h2>
<h2 id="代码-8">代码</h2>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt; </span></span></div><div class="line"> </div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </div><div class="line"> </div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> REP(i,a,b) for(int i=int(a),nn=int(b);i&lt;=nn;++i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> VEP(i,a,b) for(int i=int(a),nn=int(b);i&gt;=nn;--i) </span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> rep(i,b) for (int i=0,nn=int(b);i&lt;nn;++i) </span></div><div class="line"> </div><div class="line"><span class="keyword">typedef</span> <span class="keyword">unsigned</span> <span class="keyword">int</span> ui;</div><div class="line"> </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">51</span>; </div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> p=<span class="number">1000000007</span>;</div><div class="line"> </div><div class="line"><span class="keyword">int</span> d[N],c[<span class="number">101</span>],n,T,le,tw[<span class="number">400</span>],f[N*N*<span class="number">20</span>],sm;</div><div class="line"><span class="keyword">char</span> s[<span class="number">110</span>]; </div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123; </div><div class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;T); </div><div class="line">	<span class="keyword">while</span> (T--) &#123; </div><div class="line">		sm=<span class="number">0</span>,<span class="built_in">scanf</span>(<span class="string">"%d%s"</span>,&amp;n,s); </div><div class="line">		le=<span class="built_in">strlen</span>(s); rep(i,le) c[i]=s[le-i<span class="number">-1</span>]-<span class="string">'0'</span>; </div><div class="line">		<span class="keyword">int</span> lf=<span class="number">0</span>,tn=<span class="number">0</span>; <span class="keyword">while</span> (le&gt;<span class="number">1</span>||c[<span class="number">0</span>]&gt;=<span class="number">1</span>) &#123; </div><div class="line">			VEP(i,le<span class="number">-1</span>,<span class="number">0</span>) &#123; <span class="keyword">int</span> x=lf*<span class="number">10</span>+c[i]; </div><div class="line">				lf=x%<span class="number">2</span>, c[i]=x/<span class="number">2</span>; </div><div class="line">			&#125;</div><div class="line">			tw[++tn]=lf, lf=<span class="number">0</span>; </div><div class="line">			<span class="keyword">while</span> (c[le<span class="number">-1</span>]==<span class="number">0</span>) le--; </div><div class="line">		&#125;</div><div class="line"><span class="comment">//		REP(i, 1,tn) cout&lt;&lt;tw[i]&lt;&lt;' ' ;cout&lt;&lt;endl; </span></div><div class="line">		REP(i,<span class="number">1</span>,n) <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;d[i]),sm+=d[i];</div><div class="line">		<span class="built_in">memset</span>(f,<span class="number">0</span>,<span class="keyword">sizeof</span>(f)); </div><div class="line">		f[<span class="number">0</span>]=<span class="number">1</span>; <span class="keyword">int</span> smx=<span class="number">0</span>,v;  </div><div class="line">		sort(d+<span class="number">1</span>,d+<span class="number">1</span>+n); </div><div class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=tn;++i) &#123; </div><div class="line">			<span class="built_in">memset</span>(f+<span class="number">1</span>+smx,<span class="number">0</span>,sm*<span class="keyword">sizeof</span>(ui));</div><div class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;++j) &#123; v=d[j],smx+=v; </div><div class="line">				VEP(k,smx,v) f[k]+=f[k-v],f[k]-=p*((f[k]&gt;&gt;<span class="number">30</span>)&amp;<span class="number">3</span>); </div><div class="line">			&#125;</div><div class="line">			<span class="keyword">int</span> _j,j; </div><div class="line">			<span class="keyword">for</span>(_j=tw[i],j=<span class="number">0</span>; _j&lt;=smx;_j+=<span class="number">2</span>,++j) &#123;  </div><div class="line">				f[j]=f[_j]; <span class="keyword">if</span> (f[j]&gt;=p) f[j]-=p;</div><div class="line">			&#125; </div><div class="line">			smx=j<span class="number">-1</span>; </div><div class="line">		&#125;</div><div class="line">		<span class="built_in">printf</span>(<span class="string">"%u\n"</span>, f[<span class="number">0</span>]); </div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="number">0</span>; </div><div class="line">&#125;</div></pre></td></tr></table></figure>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">
<ul class="pagination">
	 
				
    	<li class="prev"><a href="/cc2/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i>上一页</a></li>
  		

        <li><a href="/archives"><i class="fa fa-archive"></i>Archive</a></li>

		
		   <li class="next"><a href="/bzoj4567/" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a></li>         
        
	
</ul>
</div>

    </center>
	</div>

    <!-- share -->
    
        

        
<!-- JiaThis Button BEGIN -->
<script type="text/javascript">
var jiathis_config = {data_track_clickback:'true'};
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jiathis_r.js?type=left&amp;move=0&amp;btn=l2.gif&amp;uid=2131170" charset="utf-8"></script>
<!-- JiaThis Button END -->



    
	
	<!-- comment -->
	
<section id="comment">
  <h2 class="title">留言</h2>

  
	<div id="uyan_frame"></div>
  
</section>

	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2017-03-14 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/题目集锦/">题目集锦<span>5</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/LCT/">LCT<span>3</span></a></li> <li><a href="/tags/平衡树/">平衡树<span>8</span></a></li> <li><a href="/tags/后缀自动机/">后缀自动机<span>4</span></a></li> <li><a href="/tags/DP/">DP<span>6</span></a></li> <li><a href="/tags/数位DP/">数位DP<span>2</span></a></li> <li><a href="/tags/博弈/">博弈<span>3</span></a></li> <li><a href="/tags/网络流/">网络流<span>2</span></a></li> <li><a href="/tags/meet-in-the-middle/">meet in the middle<span>1</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
			<ol class="toc-article"><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#cc-gerald07chef-and-graph-queries"><span class="toc-article-text">【CC GERALD07】Chef and Graph Queries</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#题目大意"><span class="toc-article-text">题目大意</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#解题报告"><span class="toc-article-text">解题报告</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#代码"><span class="toc-article-text">代码</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#cc-diftripdifferent-trips"><span class="toc-article-text">【CC DIFTRIP】Different Trips</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#题目大意-1"><span class="toc-article-text">题目大意</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#解题报告-1"><span class="toc-article-text">解题报告</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#代码-1"><span class="toc-article-text">代码</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#cc-evilbookevil-book"><span class="toc-article-text">【CC EVILBOOK】Evil Book</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#题目大意-2"><span class="toc-article-text">题目大意</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#解题报告-2"><span class="toc-article-text">解题报告</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#代码-2"><span class="toc-article-text">代码</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#cc-leboxeslittle-elephant-and-boxes"><span class="toc-article-text">【CC LEBOXES】Little Elephant and Boxes</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#题目大意-3"><span class="toc-article-text">题目大意</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#解题报告-3"><span class="toc-article-text">解题报告</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#代码-3"><span class="toc-article-text">代码</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#cc-gthronesa-game-of-thrones"><span class="toc-article-text">【CC GTHRONES】A Game of Thrones</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#题目大意-4"><span class="toc-article-text">题目大意</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#解题报告-4"><span class="toc-article-text">解题报告</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#代码-4"><span class="toc-article-text">代码</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#cc-cardchufcard-shuffle"><span class="toc-article-text">【CC CARDCHUF】Card Shuffle</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#题目大意-5"><span class="toc-article-text">题目大意</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#解题报告-5"><span class="toc-article-text">解题报告</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#代码-5"><span class="toc-article-text">代码</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#cc-tapaircounting-the-important-pairs"><span class="toc-article-text">【CC TAPAIR】Counting The Important Pairs</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#题目大意-6"><span class="toc-article-text">题目大意</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#解题报告-6"><span class="toc-article-text">解题报告</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#代码-6"><span class="toc-article-text">代码</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#cc-farasafurik-and-rubik-and-sub-array"><span class="toc-article-text">【CC FARASA】Furik and Rubik and Sub Array</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#题目大意-7"><span class="toc-article-text">题目大意</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#解题报告-7"><span class="toc-article-text">解题报告</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#代码-7"><span class="toc-article-text">代码</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#cc-changemaking-change"><span class="toc-article-text">【CC CHANGE】Making Change</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#题目大意-8"><span class="toc-article-text">题目大意</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#解题报告-8"><span class="toc-article-text">解题报告</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#代码-8"><span class="toc-article-text">代码</span></a></li></ol></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->
 
<script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2131170"></script>



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2017 shallwe
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script type="text/javascript" color="0,0,0" opacity='1.0' zIndex="-2" count="200" src="/js/src/particle.js"></script>  
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



   <script type="text/javascript">      
     var search_path = "search.xml";
	 if (search_path.length == 0) {
	 	search_path = "search.xml";
	 }
	 var path = "/" + search_path;
     searchFunc(path, 'local-search-input', 'local-search-result');
   </script>

</body>
   </html>
